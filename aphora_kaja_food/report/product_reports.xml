<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="aphora_report_simple_label8x8">
        <t t-call="web.html_container">
            <t t-set="barcode_size" t-value="'width:80mm;height:20mm'"/>
            <t t-set="table_style" t-value="'width:80mm;height:80mm;'"/>
            <div class="o_label_full" t-att-style="table_style">
                <div class="o_label_name">
                    <strong t-field="product.display_name"/>
                </div>
                <div class="o_label_data">
                    <div class="text-center o_label_left_column mt-2">
                        <span class="text-nowrap" t-field="product.default_code"/>
                        <t t-if="barcode">
                            <div t-out="barcode" t-options="{'widget': 'barcode', 'symbology': 'auto', 'img_style': barcode_size}"/>
                            <span class="text-center" t-out="barcode"/>
                        </t>
                    </div>
                    <div class="text-end" style="line-height:normal">
                        <t t-if="price">
                            <strong class="o_label_price" t-out="pricelist._get_product_price(product, 1, pricelist.currency_id or product.currency_id)"
                                    t-options="{'widget': 'monetary', 'display_currency': pricelist.currency_id or product.currency_id, 'label_price': True}"/>
                        </t>
                    </div>
                    <div class="o_label_clear"></div>
                </div>
            </div>
        </t>
    </template>

    <template id="aphora_report_producttemplatelabel8x8noprice">
        <t t-call="web.basic_layout">
            <div class="page">
                <t t-foreach="quantity.items()" t-as="barcode_and_qty_by_product">
                    <t t-set="product" t-value="barcode_and_qty_by_product[0]"/>
                    <t t-set="price" t-value="False"/>
                    <t t-foreach="barcode_and_qty_by_product[1]" t-as="barcode_and_qty">
                        <t t-set="barcode" t-value="barcode_and_qty[0]"/>
                        <t t-call="aphora_kaja_food.aphora_report_simple_label8x8"/>
                    </t>
                </t>
            </div>
        </t>
    </template>

    <template id="aphora_report_producttemplatelabel8x8">
        <t t-call="web.basic_layout">
            <div class="page">
                <t t-foreach="quantity.items()" t-as="barcode_and_qty_by_product">
                    <t t-set="product" t-value="barcode_and_qty_by_product[0]"/>
                    <t t-set="price" t-value="True"/>
                    <t t-foreach="barcode_and_qty_by_product[1]" t-as="barcode_and_qty">
                        <t t-set="barcode" t-value="barcode_and_qty[0]"/>
                        <t t-call="aphora_kaja_food.aphora_report_simple_label8x8"/>
                    </t>
                </t>
            </div>
        </t>
    </template>

    <record id="aphora_report_product_template_label_8x8_no_price" model="ir.actions.report">
        <field name="name">Product Label 8x8 (PDF) No Price</field>
        <field name="model">product.template</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">aphora_kaja_food.aphora_report_producttemplatelabel8x8noprice</field>
        <field name="report_file">aphora_kaja_food.aphora_report_producttemplatelabel8x8noprice</field>
        <field name="paperformat_id" ref="aphora_kaja_food.aphora_paperformat_label_sheet_8x8"/>
        <field name="print_report_name">'Products Labels - %s' % (object.name)</field>
        <field name="binding_type">report</field>
    </record>

    <record id="aphora_report_product_template_label_8x8" model="ir.actions.report">
        <field name="name">Product Label 8x8 (PDF)</field>
        <field name="model">product.template</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">aphora_kaja_food.aphora_report_producttemplatelabel8x8</field>
        <field name="report_file">aphora_kaja_food.aphora_report_producttemplatelabel8x8</field>
        <field name="paperformat_id" ref="aphora_kaja_food.aphora_paperformat_label_sheet_8x8"/>
        <field name="print_report_name">'Products Labels - %s' % (object.name)</field>
        <field name="binding_type">report</field>
    </record>
</odoo>
